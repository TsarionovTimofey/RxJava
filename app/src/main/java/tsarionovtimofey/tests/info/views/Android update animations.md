## **Процесс обновления анимаций**

## 1. **Основные компоненты**

### a) **Choreographer**

- **Что делает**: Управляет выполнением задач отрисовки, включая обновление анимаций.
- **Как работает**:
    - Слушает сигналы **Vsync** (Vertical Sync) от системы.
    - Планирует выполнение трех основных шагов для каждого кадра:
        1. **Input Handling**: Обработка событий ввода.
        2. **Animation**: Обновление состояния анимаций.
        3. **Drawing**: Фактическая отрисовка.

### b) **Vsync**

- **Что такое Vsync**: Это сигнал от системы, определяющий момент времени, когда экран готов принять
  новые пиксели.
- **Зачем нужен**: Гарантирует плавную анимацию и избегание "tearing" (разрыва кадров).
- **Частота**: Совпадает с частотой обновления экрана (например, 60 Hz или 90 Hz).

---

### Планирование обновлений через Choreographer**

- Когда анимация запускается (например, через `ObjectAnimator` или `ViewPropertyAnimator`), система
  регистрирует задачу в **Choreographer**.
- Choreographer планирует выполнение этой задачи на следующем сигнале Vsync.

## **Краткий алгоритм работы**

1. **Choreographer** получает сигнал Vsync.
2. **Анимация обновляется**:
    - Выполняется коллбэк анимации
    - Обновляются свойства `View` (например, `translationX`, `alpha`), вызывается invalidate()